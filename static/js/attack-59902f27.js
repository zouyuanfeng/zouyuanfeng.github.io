import{_ as b,N as x,r as u,o as g,c as P,d as l,w as r,a as v,t as I,f as p}from "./index-7d1d6393.js";const y={name:"attack",components:{NavBar:x},data(){return{mega:["\u662F","\u5426"],megaIndex:0,level:[-6,-5,-4,-3,-2,-1,0,1,2,3,4,5,6],attackLevel:6,defensiveLevel:6,depart:["\u975E\u672C","\u672C\u7CFB","\u9002\u5E94\u529B"],departIndex:0,restraint:["1\u500D","1.5\u500D\uFF08\u575A\u77F3\u7279\u6027\uFF09","2\u500D","3\u500D\uFF08\u575A\u77F3\u7279\u6027\uFF09","4\u500D","0.5\u500D","0.25\u500D"],restraintIndex:0,crit:["\u5426","\u4F1A\u5FC3","\u4F1A\u5FC3\uFF08\u72D9\u51FB\u624B\uFF09"],critIndex:0,showTopTips:!1,result:"",form:{level:"90",mega:"1",power:"",attackPower:"",attackAdd:"0",defensivePower:"",defensiveAdd:"0",depart:"0",restraint:"1\u500D",crit:"0",props:"1",other:"1"},columns:[],showPicker:!1,pickerKey:"",defaultIndex:0}},methods:{showPickerView(t){this.pickerKey=t,t==="restraint"?(this.columns=JSON.parse(JSON.stringify(this.restraint)),this.defaultIndex=this.restraintIndex):(this.columns=JSON.parse(JSON.stringify(this.level)),this.defaultIndex=t==="defensiveAdd"?this.defensiveLevel:this.attackLevel),this.showPicker=!0},onConfirm(t){switch(this.pickerKey){case"restraint":this.restraintIndex=this.columns.indexOf(t);break;case"attackAdd":this.attackLevel=this.columns.indexOf(t);break;case"defensiveAdd":this.defensiveLevel=this.columns.indexOf(t);break}this.form[this.pickerKey]=t,this.showPicker=!1},showToast(t){this.$toast(t)},onSubmit(t){if(!t.level){this.showToast("\u8BF7\u8F93\u5165\u653B\u51FB\u65B9\u7B49\u7EA7");return}if(!t.power){this.showToast("\u8BF7\u8F93\u5165\u653B\u51FB\u65B9\u6280\u80FD\u5A01\u529B");return}if(!t.attackPower){this.showToast("\u8BF7\u8F93\u5165\u653B\u51FB\u65B9\u653B\u51FB\u529B");return}if(!t.defensivePower){this.showToast("\u8BF7\u8F93\u5165\u9632\u5FA1\u65B9\u9632\u5FA1\u529B");return}if(!t.props){this.showToast("\u8BF7\u8F93\u5165\u9053\u5177\u52A0\u6210\uFF0C\u65E0\u52A0\u6210\u8F93\u51651");return}if(!t.other){this.showToast("\u8BF7\u8F93\u5165\u5176\u4ED6\u52A0\u6210\uFF0C\u65E0\u52A0\u6210\u8F93\u51651");return}let e=parseInt(t.attackPower),c=this.level[this.attackLevel];c>=0?e=Math.round(e+e*c*(1/3)):e=Math.round(e*(3/(Math.abs(c)+3)));let a=parseInt(t.defensivePower),o=this.level[this.defensiveLevel];o>=0?a=Math.round(a+a*o*(1/3)):a=Math.round(a*(3/(Math.abs(o)+3))),console.info("\u653B\u51FB\u529B\uFF1A"+e+";\u9632\u5FA1\u529B:"+a);let d=1;switch(parseInt(t.depart)){case 1:d=1.5;break;case 2:d=2.3;break}console.info("\u653B\u51FB\u529B\uFF1A"+e+";\u9632\u5FA1\u529B:"+a);let f=1;switch(parseInt(t.crit)){case 1:f=2;break;case 2:f=3;break}let i=parseInt(t.mega)===1?34.61:26,s=1;switch(parseInt(this.restraintIndex)){case 1:s=1.5;break;case 2:s=2;break;case 3:s=3;break;case 4:s=4;break;case 5:s=.5;break;case 6:s=.25;break}this.calculate(i,parseInt(t.level),parseInt(t.power),e,a,s,d,f,parseFloat(t.other)*parseFloat(t.props))},calculate:function(t, e, c, a, o, d, f, i, s){let m=t*((e*2/5+2)*c*a/o/50+2)*d*f*s*i;m="\u8BA1\u7B97\u7ED3\u679C\uFF1A"+Math.round(.793*m)+" ~ "+Math.round(m),this.$notify({message:m,position:"bottom"}),this.result=m},toDetail:function(){wx.navigateTo({url:"/pages/comprehensive/rich/rich?id=645"})}}},A={class:"page__bd"},U=p("\u662F"),T=p("\u5426"),C=p("\u5426"),M=p("\u662F"),N=p("\u9002\u5E94\u529B"),S=p("\u5426"),L=p("\u662F"),O=p("\u72D9\u51FB\u624B"),B={style:{margin:"16px"}},J=p(" \u63D0\u4EA4 "),K={style:{margin:"16px"}};function z(t, e, c, a, o, d){const f=u("nav-bar"),i=u("van-field"),s=u("van-radio"),m=u("van-radio-group"),h=u("van-cell-group"),_=u("van-button"),k=u("van-form"),w=u("van-picker"),V=u("van-popup");return g(),P("div",A,[l(f,{title:"\u4F24\u5BB3\u8BA1\u7B97\u5668"}),l(k,{onSubmit:d.onSubmit},{default:r(()=>[l(h,{inset:""},{default:r(()=>[l(i,{modelValue:o.form.level,"onUpdate:modelValue":e[0]||(e[0]= n=>o.form.level=n),name:"level",label:"\u653B\u51FB\u65B9\u7B49\u7EA7",type:"digit",placeholder:"\u8BF7\u8F93\u5165\u653B\u51FB\u65B9\u7B49\u7EA7"},null,8,["modelValue"]),l(i,{name:"mega",label:"\u662F\u5426MEGA"},{input:r(()=>[l(m,{modelValue:o.form.mega,"onUpdate:modelValue":e[1]||(e[1]= n=>o.form.mega=n),direction:"horizontal"},{default:r(()=>[l(s,{name:"1"},{default:r(()=>[U]),_:1}),l(s,{name:"0"},{default:r(()=>[T]),_:1})]),_:1},8,["modelValue"])]),_:1}),l(i,{modelValue:o.form.power,"onUpdate:modelValue":e[2]||(e[2]= n=>o.form.power=n),name:"power",label:"\u62DB\u5F0F\u5A01\u529B",type:"digit",placeholder:"1~9999"},null,8,["modelValue"]),l(i,{modelValue:o.form.attackPower,"onUpdate:modelValue":e[3]||(e[3]= n=>o.form.attackPower=n),name:"attackPower",label:"\u653B\u51FB\u529B",placeholder:"1~99999"},null,8,["modelValue"]),l(i,{modelValue:o.form.attackAdd,"onUpdate:modelValue":e[4]||(e[4]= n=>o.form.attackAdd=n),"is-link":"",readonly:"",name:"attackAdd",label:"\u653B\u51FB\u52A0\u6210",onClick:e[5]||(e[5]= n=>d.showPickerView("attackAdd"))},null,8,["modelValue"]),l(i,{modelValue:o.form.defensivePower,"onUpdate:modelValue":e[6]||(e[6]= n=>o.form.defensivePower=n),name:"defensivePower",label:"\u9632\u5FA1\u529B",placeholder:"1~99999"},null,8,["modelValue"]),l(i,{modelValue:o.form.defensiveAdd,"onUpdate:modelValue":e[7]||(e[7]= n=>o.form.defensiveAdd=n),"is-link":"",readonly:"",name:"defensiveAdd",label:"\u9632\u5FA1\u52A0\u6210",onClick:e[8]||(e[8]= n=>d.showPickerView("defensiveAdd"))},null,8,["modelValue"]),l(i,{name:"depart",label:"\u662F\u5426\u672C\u7CFB"},{input:r(()=>[l(m,{modelValue:o.form.depart,"onUpdate:modelValue":e[9]||(e[9]= n=>o.form.depart=n),direction:"horizontal"},{default:r(()=>[l(s,{name:"0"},{default:r(()=>[C]),_:1}),l(s,{name:"1"},{default:r(()=>[M]),_:1}),l(s,{name:"2"},{default:r(()=>[N]),_:1})]),_:1},8,["modelValue"])]),_:1}),l(i,{modelValue:o.form.restraint,"onUpdate:modelValue":e[10]||(e[10]= n=>o.form.restraint=n),"is-link":"",readonly:"",name:"restraint",label:"\u514B\u5236\u7CFB\u6570",onClick:e[11]||(e[11]= n=>d.showPickerView("restraint"))},null,8,["modelValue"]),l(i,{name:"crit",label:"\u662F\u5426\u4F1A\u5FC3"},{input:r(()=>[l(m,{modelValue:o.form.crit,"onUpdate:modelValue":e[12]||(e[12]= n=>o.form.crit=n),direction:"horizontal"},{default:r(()=>[l(s,{name:"0"},{default:r(()=>[S]),_:1}),l(s,{name:"1"},{default:r(()=>[L]),_:1}),l(s,{name:"2"},{default:r(()=>[O]),_:1})]),_:1},8,["modelValue"])]),_:1}),l(i,{modelValue:o.form.props,"onUpdate:modelValue":e[13]||(e[13]= n=>o.form.props=n),name:"props",label:"\u9053\u5177",placeholder:"\u5982\u547D\u73891.3"},null,8,["modelValue"]),l(i,{modelValue:o.form.other,"onUpdate:modelValue":e[14]||(e[14]= n=>o.form.other=n),name:"other",label:"\u5176\u4ED6",placeholder:"\u5982\u7535\u6C14\u573A\u57301.5"},null,8,["modelValue"])]),_:1}),v("div",B,[l(_,{round:"",block:"",type:"primary","native-type":"submit"},{default:r(()=>[J]),_:1})])]),_:1},8,["onSubmit"]),v("div",K,I(o.result),1),l(V,{show:o.showPicker,"onUpdate:show":e[16]||(e[16]= n=>o.showPicker=n),position:"bottom"},{default:r(()=>[l(w,{columns:o.columns,onConfirm:d.onConfirm,"default-index":o.defaultIndex,onCancel:e[15]||(e[15]= n=>o.showPicker=!1)},null,8,["columns","onConfirm","default-index"])]),_:1},8,["show"])])}const E=b(y,[["render",z],["__scopeId","data-v-d77c0273"]]);export{E as default};
