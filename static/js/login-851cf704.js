import{_ as y,N as x,u as I,m as g,s as c,r as d,o as k,c as T,d as r,a as o,w as u,F as V,T as i,q as S,x as A,j as C,v as B,p as D,h as N,f as w}from "./index-7d1d6393.js";import{m as j}from "./md5-3136d831.js";const q={components:{NavBar:x},setup(){const a=I(),s=g(""),_=g(""),e=g(!1);if(c.getItem("loginInfo")){const t=c.getItem("loginInfo");s.value=t.username,_.value=t.password}return{username:s,password:_,onSubmit: t=>{i.loading({message:"\u8BF7\u6C42\u4E2D",forbidClick:!0}),S.post("/user/login",{username:t.username.trim(),password:j(t.password)}).then(n=>{if(i.clear(),n.code!==200)i(n.msg);else{c.setItem("userInfo",n.result),c.setItem("loginInfo",{username:t.username.trim(),password:t.password});const l=n.result.expireTime;if(!l||new Date(l).getTime()<new Date().getTime()){i("\u5F53\u524D\u5E10\u53F7\u5DF2\u8FC7\u6709\u6548\u671F\uFF0C\u8BF7\u8054\u7CFB\u201C\u4F9D\u98CE\u542C\u96E8\uFF08\u8FDC\u950B\uFF09\u201D");return}new Date(l).getTime()<A(new Date().getTime()).add(3,"day")&&i(`\u5F53\u524D\u5E10\u53F7\u6709\u6548\u671F\u3010${l}\u3011\u5DF2\u4E0D\u8DB3\u4E09\u5929`),a.replace("/")}}, n=>{i.clear()})},register:()=>{a.push({path:"/register"})},showAddress:e}}},m= a=>(D("data-v-1778eeb4"),a=a(),N(),a),P={class:"login"},F={style:{margin:"40px 16px"}},M=w(" \u767B\u5F55 "),U=w(" \u6CE8\u518C\u8D26\u6237 "),z={style:{margin:"16px","word-wrap":"break-word","word-break":"normal"}},E=m(()=>o("p",null,"\u5B89\u5353\u7248\u5730\u5740\uFF1A",-1)),G=m(()=>o("p",null,"\u84DD\u594F\u7F51\u76D8\uFF1Ahttps://ityuanfeng.lanzouw.com/iv6eW0enr9va\u3010\u7F51\u76D8\u5BC6\u7801: avav \u3011",-1)),R=m(()=>o("p",null,"\u767E\u5EA6\u7F51\u76D8\uFF1Ahttps://pan.baidu.com/s/1BnpAvM2VyyZPoiTvY2x0kg?pwd=ukrv \u63D0\u53D6\u7801: ukrv",-1)),W=[E,G,R],Y=m(()=>o("div",{style:{padding:"16px"}},[o("p",null,"\u9700\u8981\u91CD\u7F6E\u5BC6\u7801\u8BF7\u8054\u7CFB\u201C\u4F9D\u98CE\u542C\u96E8\uFF08\u8FDC\u950B\uFF09\u201D"),o("p",null,"\u76EE\u524D\u5DE5\u5177\u7BB1\u91C7\u7528\u4F1A\u5458\u5236\uFF0C5\u5143/\u6708\uFF0C\u975E\u4F1A\u5458\u65E0\u6CD5\u767B\u5F55\uFF0C\u4F1A\u5458\u5982\u63D0\u793A\u8D26\u53F7\u5DF2\u8FC7\u671F\uFF0C\u8BF7\u8054\u7CFB\u201C\u4F9D\u98CE\u542C\u96E8\uFF08\u8FDC\u950B\uFF09\u201D\u914D\u7F6E\u8D26\u53F7\u6709\u6548\u671F\u3002")],-1)),Z=m(()=>o("img",{class:"img",src:"https://www.yifengtingyu.cn/img/large/IMG_20221026212920857.jpg",alt:""},null,-1));function H(a, s, _, e, f, h){const t=d("nav-bar"),n=d("van-field"),l=d("van-cell-group"),v=d("van-button"),b=d("van-form");return k(),T(V,null,[r(t,{title:"\u767B\u5F55"}),o("div",P,[r(b,{onSubmit:e.onSubmit},{default:u(()=>[r(l,{inset:""},{default:u(()=>[r(n,{modelValue:e.username,"onUpdate:modelValue":s[0]||(s[0]= p=>e.username=p),name:"username",label:"\u5E10\u53F7",placeholder:"\u8BF7\u8F93\u5165\u5E10\u53F7",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u5E10\u53F7"}]},null,8,["modelValue"]),r(n,{modelValue:e.password,"onUpdate:modelValue":s[1]||(s[1]= p=>e.password=p),type:"password",name:"password",label:"\u5BC6\u7801",clearable:"",placeholder:"\u8BF7\u8F93\u5165\u5BC6\u7801",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u5BC6\u7801"}]},null,8,["modelValue"])]),_:1}),o("div",F,[r(v,{round:"",block:"",type:"primary","native-type":"submit"},{default:u(()=>[M]),_:1}),r(v,{round:"",block:"",plain:"",type:"primary",onClick:e.register,style:{"margin-top":"20px"}},{default:u(()=>[U]),_:1},8,["onClick"])]),o("div",{class:"register",onClick:s[2]||(s[2]= p=>e.showAddress=!e.showAddress)},"\u83B7\u53D6\u5B89\u5353\u7248APP\u5730\u5740"),C(o("div",z,W,512),[[B,e.showAddress]])]),_:1},8,["onSubmit"]),Y,Z])],64)}const L=y(q,[["render",H],["__scopeId","data-v-1778eeb4"]]);export{L as default};
