import{_ as D,N as y,r,o,c as l,d,w as h,a as u,j as V,z as L,F as g,b as v,t as _}from "./index-7d1d6393.js";const C={name:"question",components:{NavBar:y},data(){return{inputVal:"",list:[],curPage:0,pageSize:20,hasMoreData:!1,array0:["\u5168\u90E8","\u8282\u65E5\u4F7F\u8005","\u667A\u6167\u8BB2\u5802","\u731C\u706F\u8C1C"],index:{index0:0},value:{value0:"\u5168\u90E8"},loading:!1}},created(){this.array0=this.array0.map((n, e)=>({text:n,value:e})),this.onLoadData()},methods:{changeMenu(n, e){this.curPage=0,this.onLoadData()},onConfirm(){this.curPage=0,this.onLoadData()},onClear(){this.inputVal="",this.curPage=0,this.onLoadData()},onLoadData:function(){this.curPage+=1;let n=this;this.loading=!0;let e={name:this.inputVal,index:this.curPage,pageSize:this.pageSize};this.index.index0&&(e.type=this.index.index0-1),this.$http.get("/question/queryList",e).then(p=>{let c=p.result,t=c.records,s=c.pages>this.curPage;this.loading=!1;let i=n.list;this.curPage===1?i=t:i=i.concat(t),n.list=i,n.hasMoreData=s})}}},M={class:"page-card"},P=["value"],S={class:"card"},q={class:"title"};function b(n, e, p, c, t, s){const i=r("nav-bar"),f=r("van-search"),m=r("van-sticky"),x=r("van-list");return o(),l("div",M,[d(m,null,{default:h(()=>[d(i,{title:"\u8282\u65E5\u7B54\u9898\u5668Q&A"}),d(f,{placeholder:"\u641C\u7D22\u5173\u952E\u5B57",modelValue:t.inputVal,"onUpdate:modelValue":e[2]||(e[2]= a=>t.inputVal=a),onSearch:s.onConfirm,onCancel:s.onClear},{left:h(()=>[V(u("select",{class:"select",onChange:e[0]||(e[0]=(...a)=>s.changeMenu&&s.changeMenu(...a)),"onUpdate:modelValue":e[1]||(e[1]= a=>t.index.index0=a)},[(o(!0),l(g,null,v(t.array0, a=>(o(),l("option",{value:a.value},_(a.text),9,P))),256))],544),[[L,t.index.index0]])]),_:1},8,["modelValue","onSearch","onCancel"])]),_:1}),u("div",null,[d(x,{loading:t.loading,"onUpdate:loading":e[3]||(e[3]= a=>t.loading=a),finished:!t.hasMoreData,"finished-text":"\u6CA1\u6709\u66F4\u591A\u4E86",onLoad:s.onLoadData,offset:500,"immediate-check":!0},{default:h(()=>[(o(!0),l(g,null,v(t.list, a=>(o(),l("div",S,[u("div",q,"Q\uFF1A"+_(a.question),1),u("div",null,"A\uFF1A"+_(a.answer),1)]))),256))]),_:1},8,["loading","finished","onLoad"])])])}const w=D(C,[["render",b],["__scopeId","data-v-4b53eefa"]]);export{w as default};
