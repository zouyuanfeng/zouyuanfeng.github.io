import{_ as C,N as P,r as o,o as u,c as h,d as s,w as i,a as g,F as S,b as w,t as _,f as p,j as m,v as x}from "./index-7d1d6393.js";const k={name:"character",components:{NavBar:P},data(){return{inputVal:"",list:[],curPage:0,pageSize:20,hasMoreData:!1,array1:["\u5168\u90E8","\u4E00\u822C","\u683C\u6597","\u98DE\u884C","\u6BD2","\u5730\u9762","\u5CA9\u77F3","\u866B","\u5E7D\u7075","\u94A2","\u706B","\u6C34","\u8349","\u7535","\u8D85\u80FD\u529B","\u51B0","\u9F99","\u6076","\u5996\u7CBE"],array0:["\u5168\u90E8","\u7269\u7406","\u53D8\u5316","\u7279\u6B8A"],index:{index0:"",index1:""},value:{value0:"\u5168\u90E8",value1:"\u5168\u90E8"},loading:!1}},created(){var e;this.array0=this.array0.map(a=>({text:a,value:a==="\u5168\u90E8"?"":a})),this.array1=this.array1.map(a=>({text:a,value:a==="\u5168\u90E8"?"":a})),this.inputVal=((e=this.$route.query)==null?void 0:e.name)||"",this.onLoadData()},methods:{changeMenu(e, a){var r;this.value["value"+a]=((r=this["array"+a].find(d=>d.value===e))==null?void 0:r.text)||"\u5168\u90E8",this.curPage=0,this.onLoadData()},onConfirm(){this.curPage=0,this.onLoadData()},onClear(){this.inputVal="",this.curPage=0,this.onLoadData()},onLoadData:function(){this.curPage+=1;let e=this;this.loading=!0;let a={name:this.inputVal,index:this.curPage,pageSize:this.pageSize};this.index.index0&&(a.type=this.index.index0),this.index.index1&&(a.attrs=this.index.index1),this.$http.get("/cc/queryList",a).then(r=>{let d=r.result,t=d.records,c=d.pages>this.curPage;this.loading=!1;let l=e.list;this.curPage===1?l=t:l=l.concat(t),e.list=l,e.hasMoreData=c})}}},M={class:"page-card"},N={class:"card"},B={class:"title"},b=p("\u8BE6\u60C5");function z(e, a, r, d, t, c){const l=o("nav-bar"),y=o("van-search"),D=o("van-sticky"),v=o("van-col"),f=o("van-row"),V=o("van-divider"),L=o("van-list");return u(),h("div",M,[s(D,null,{default:i(()=>[s(l,{title:"\u7279\u6027\u56FE\u9274"}),s(y,{placeholder:"\u641C\u7D22\u7279\u6027",modelValue:t.inputVal,"onUpdate:modelValue":a[0]||(a[0]= n=>t.inputVal=n),onSearch:c.onConfirm,onCancel:c.onClear},null,8,["modelValue","onSearch","onCancel"])]),_:1}),g("div",null,[s(L,{loading:t.loading,"onUpdate:loading":a[1]||(a[1]= n=>t.loading=n),finished:!t.hasMoreData,"finished-text":"\u6CA1\u6709\u66F4\u591A\u4E86",onLoad:c.onLoadData,offset:500,"immediate-check":!0},{default:i(()=>[(u(!0),h(S,null,w(t.list, n=>(u(),h("div",N,[g("div",B,_(n.name),1),s(f,null,{default:i(()=>[s(v,{span:"24"},{default:i(()=>[p(_(n.sdesc),1)]),_:2},1024)]),_:2},1024),m(s(V,null,{default:i(()=>[b]),_:2},1536),[[x,n.detail]]),m(s(f,null,{default:i(()=>[s(v,{span:"24"},{default:i(()=>[p(_(n.detail),1)]),_:2},1024)]),_:2},1536),[[x,n.detail]])]))),256))]),_:1},8,["loading","finished","onLoad"])])])}const F=C(k,[["render",z]]);export{F as default};
