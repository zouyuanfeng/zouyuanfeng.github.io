import{_ as w,N as D,i as S,r as i,o as r,c as p,d as c,w as d,a as u,j as x,v as L,F as _,b as f,e as g}from "./index-7d1d6393.js";const T={name:"index",components:{NavBar:D},data(){return{active:0,list:[],list2:[],cType:"",curPage:0,pageSize:50,hasMoreData:!1,inputVal:"",isSearch:!1,loading:!1,showImg:!1,imgUrl:"",skillType:["\u5149\u7EBF\u7C7B","\u70AE\u51FB\u7C7B","\u7206\u7834\u7C7B","\u53CD\u5F39\u7C7B","\u5438\u6536\u7C7B","\u58F0\u97F3\u7C7B","\u62F3\u51FB\u7C7B","\u811A\u8E22\u7C7B","\u5251\u51FB\u7C7B","\u5543\u54AC\u7C7B","\u7C89\u672B\u7C7B","\u7403\u53CA\u5F39\u7C7B","\u6CE2\u52A8\u6CE2\u5BFC\u7C7B","\u5FC3\u7075\u653B\u51FB\u7C7B"]}},created(){this.loadCType()},activated(){const e=this.$route.query.t;new Date().getTime()-e<1e3&&(window.scrollTo(0,0),Object.assign(this.$data,this.$options.data()),this.loadCType())},methods:{loadCType(){let e=this;this.$http.get("/cpt/queryList",{index:1,pageSize:30}).then(a=>{let s=a.result;s.records&&(s.records[0].check=!0),e.list=s.records,this.cType=s.records[0].objectId,this.onLoadData()})},onChange(e){this.curPage=0,this.cType=this.list[e].objectId,this.onLoadData()},onLoadData:function(){this.curPage+=1;let e=this;this.loading=!0;let a={name:this.inputVal,index:this.curPage,pageSize:this.pageSize,cid:this.isSearch?"":this.cType};if(a.cid==="d3bc7a53-bb6f-4bb1-9c32-2ea6f0aa602a"){this.loading=!1,e.list2=this.skillType.map(s=>({name:s,cid:"d3bc7a53-bb6f-4bb1-9c32-2ea6f0aa602a"})),e.hasMoreData=!1;return}this.$http.get("/cp/miniList",a).then(s=>{let h=s.result,t=h.records,o=h.pages>this.curPage;this.loading=!1;let l=e.list2;this.curPage===1?l=t:l=l.concat(t),e.list2=l,e.hasMoreData=o})},onConfirm(){this.curPage=0,this.isSearch=!!this.inputVal,this.onLoadData()},onClear(){this.inputVal="",this.isSearch=!1,this.curPage=0,this.onLoadData()},clickCell(e){e.type===0||e.type===3?S.previewImage(e.imageUrl):e.type===5?window.open(e.imageUrl):e.type===2?window.location.href=e.httpUrl:e.cid==="d3bc7a53-bb6f-4bb1-9c32-2ea6f0aa602a"?this.$router.push(`/introduction/skill?type=${e.name}`):this.$router.push(`/rich?id=${e.id}`)}}},P={class:"page"},U={class:"content"},B={class:"right"};function I(e, a, s, h, t, o){const l=i("nav-bar"),m=i("van-search"),v=i("van-sticky"),b=i("van-sidebar-item"),y=i("van-sidebar"),C=i("van-cell"),k=i("van-cell-group"),V=i("van-list");return r(),p("div",P,[c(v,null,{default:d(()=>[c(l,{title:"\u653B\u7565\u5927\u5168"}),c(m,{placeholder:"\u641C\u7D22\u5173\u952E\u5B57",modelValue:t.inputVal,"onUpdate:modelValue":a[0]||(a[0]= n=>t.inputVal=n),onSearch:o.onConfirm,onCancel:o.onClear},null,8,["modelValue","onSearch","onCancel"])]),_:1}),u("div",U,[x(c(y,{modelValue:t.active,"onUpdate:modelValue":a[1]||(a[1]= n=>t.active=n),onChange:o.onChange},{default:d(()=>[(r(!0),p(_,null,f(t.list, n=>(r(),g(b,{title:n.name},null,8,["title"]))),256))]),_:1},8,["modelValue","onChange"]),[[L,!t.isSearch]]),u("div",B,[c(V,{loading:t.loading,"onUpdate:loading":a[2]||(a[2]= n=>t.loading=n),finished:!t.hasMoreData,"finished-text":"\u6CA1\u6709\u66F4\u591A\u4E86",onLoad:o.onLoadData,offset:500,"immediate-check":!0},{default:d(()=>[c(k,null,{default:d(()=>[(r(!0),p(_,null,f(t.list2, n=>(r(),g(C,{title:n.name,onClick: M=>o.clickCell(n),"is-link":""},null,8,["title","onClick"]))),256))]),_:1})]),_:1},8,["loading","finished","onLoad"])])])])}const z=w(T,[["render",I],["__scopeId","data-v-f9b4b489"]]);export{z as default};
