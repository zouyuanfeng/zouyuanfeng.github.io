import{_ as v,N as f,r as c,o as i,c as r,d,a as h,w as _,F as k,b as V,e as L,g as C,p as D,h as S}from "./index-7d1d6393.js";const w=""+new URL("../svg/_new-816e707d.svg",import.meta.url).href;const x={name:"price",components:{NavBar:f},data(){return{inputVal:"",pokemons:[],curPage:0,pageSize:30,hasMoreData:!1,loading:!1}},created(){this.onLoadData()},methods:{onLoadData:function(){this.curPage+=1;let a=this;this.loading=!0;let o={name:this.inputVal,index:this.curPage,pageSize:this.pageSize};this.$http.get("/price/queryList",o).then(p=>{let l=p.result,e=l.records,s=l.pages>this.curPage;this.loading=!1;let n=a.pokemons;this.curPage===1?n=e:n=n.concat(e),a.pokemons=n,a.hasMoreData=s})},onConfirm(){this.curPage=0,this.onLoadData()},onClear(){this.inputVal="",this.curPage=0,this.onLoadData()}}},P= a=>(D("data-v-4e894ccc"),a=a(),S(),a),b={class:"page"},y={class:"page__bd"},B={key:0,class:"thumb"},N=P(()=>h("img",{class:"icon",src:w},null,-1)),I=[N];function M(a, o, p, l, e, s){const n=c("nav-bar"),u=c("van-search"),m=c("van-cell"),g=c("van-list");return i(),r("view",b,[d(n,{title:"\u7CBE\u7075\u4EF7\u683C\u8868"}),d(u,{placeholder:"\u641C\u7D22\u540D\u79F0\u6216\u4EF7\u683C",modelValue:e.inputVal,"onUpdate:modelValue":o[0]||(o[0]= t=>e.inputVal=t),onSearch:s.onConfirm,onCancel:s.onClear},null,8,["modelValue","onSearch","onCancel"]),h("view",y,[d(g,{loading:e.loading,"onUpdate:loading":o[1]||(o[1]= t=>e.loading=t),finished:!e.hasMoreData,"finished-text":"\u6CA1\u6709\u66F4\u591A\u4E86",onLoad:s.onLoadData,offset:500,"immediate-check":!0},{default:_(()=>[(i(!0),r(k,null,V(e.pokemons, t=>(i(),L(m,{title:t.name,value:t.price,key:t.id},{icon:_(()=>[t.top?(i(),r("div",B,I)):C("",!0)]),_:2},1032,["title","value"]))),128))]),_:1},8,["loading","finished","onLoad"])])])}const U=v(x,[["render",M],["__scopeId","data-v-4e894ccc"]]);export{U as default};
